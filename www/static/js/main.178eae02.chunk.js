(this.webpackJsonpspotify_web=this.webpackJsonpspotify_web||[]).push([[0],{77:function(e,t,n){e.exports=n(95)},82:function(e,t,n){},87:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},88:function(e,t,n){},93:function(e){e.exports=JSON.parse('{"secret_key":"44efc160f845463880e3980a5dc09f8e"}')},95:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(6),c=n.n(r),i=(n(82),n(37)),l=n(32),u=(n(87),n(88),n(44)),s=n(138),d=n(141),m=n(12),f=n(39),h=n.n(f),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spotify:track:3Fzlg5r1IjhLk2qRw667od",t=new Headers,n=localStorage.getItem("access_token"),a="https://api.spotify.com/v1/me/player/queue";t.append("Authorization","Bearer "+n);var o=fetch(a+"?"+h.a.stringify({uri:e}),{method:"POST",mode:"cors",headers:t,json:!0}).then((function(e){return e.text()})).then((function(e){return console.log(e)}));return o},g=n(139),b=(n(91),n(137)),v=n(133),E=n(142),w=n(135),k=n(130),O=(n(53),n(143)),y=n(136),_=Object(k.a)((function(e){return{root:{overflow:"auto",width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}}));var j=function(){var e=Object(l.c)((function(e){return e.tracks})),t=_();return o.a.createElement("div",{className:t.style},e.length>0?o.a.createElement(y.a,{className:t.root},o.a.createElement(b.a,null,e.map((function(e,t){return function(e,t){return o.a.createElement(v.a,{button:!0,key:t,onClick:function(){return p(e.uri)}},o.a.createElement(w.a,null,o.a.createElement(O.a,{src:"".concat(e.image.url)})),o.a.createElement(E.a,{primary:"".concat(e.name)}))}(e,t)})))):"")},S=n(93),C=(S.secret_key,window.cordova.plugins.SpotifyPlugin);var T=function(){Object(m.d)();var e=Object(l.b)(),t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],f=Object(a.useState)(""),b=Object(i.a)(f,2),v=b[0],E=b[1],w=Object(a.useState)(""),k=Object(i.a)(w,2),O=k[0],y=k[1],_=Object(a.useState)(null),S=Object(i.a)(_,2),T=(S[0],S[1],Object(u.b)((function(){return o.a.createElement(d.a,{open:r,onClose:function(){return c(!1)}},o.a.createElement("div",null,"hello"))}),[r,c])),N=Object(i.a)(T,2),R=(N[0],N[1],new URLSearchParams(window.location.search).get("access_token"));return localStorage.setItem("access_token",R),o.a.createElement("div",null,o.a.createElement(s.a,{variant:"contained",color:"blue",onClick:function(){C.login("d5a94039038d4a12b5816fd9bf1e6af5","com.example.cordovaspotifyapp://callback","").then((function(e){console.log(e)}))}},"Log in"),R&&o.a.createElement(s.a,{variant:"contained",color:"blue",onClick:function(){return p()}},"Add song"),R&&o.a.createElement(g.a,{id:"standard-basic",label:"Search track...",onChange:function(e){return E(e.currentTarget.value)}}),R&&o.a.createElement(s.a,{variant:"contained",color:"blue",onClick:function(){return function(e){var t=new Headers,n=localStorage.getItem("access_token");return t.append("Authorization","Bearer "+n),fetch("https://api.spotify.com/v1/search?"+h.a.stringify({q:e,type:"track"}),{method:"GET",mode:"cors",headers:t,json:!0}).then((function(e){return e.text()}))}(v).then((function(t){JSON.parse(t).tracks.items.map((function(t){var n={name:t.name,artist:t.artists[0].name,uri:t.uri,image:t.album.images[0]};e({type:"ADD_TRACK",payload:n})}))}))}},"Search"),R&&o.a.createElement(j,null),!R&&o.a.createElement(g.a,{id:"standard-basic",label:"Enter room code...",onChange:function(e){return y(e.currentTarget.value)}}),!R&&o.a.createElement(s.a,{variant:"contained",color:"blue",onClick:function(){console.log(window.location.hostname),window.location.assign("http://"+window.location.hostname+":8888/join?"+h.a.stringify({code:O}))}},"Join Room"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(31),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e+1;default:return e}},D=n(66),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRACK":return[].concat(Object(D.a)(e),[t.payload]);default:return e}},x=Object(N.b)({testReducer:R,tracks:I}),A=n(52),L=Object(N.c)(x,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),J=function(){c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:L},o.a.createElement(u.a,null,o.a.createElement(A.a,null,o.a.createElement(T,null))))),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",J,!1):J(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.178eae02.chunk.js.map